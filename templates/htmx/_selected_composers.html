<!-- templates/htmx/_selected_composers.html -->
{% if composers %}
  <div class="flex flex-wrap gap-2">
    {% for composer in composers %}
      <div class="flex items-center bg-white border rounded-md px-3 py-2 shadow-sm">
        <span>{{ composer.get_full_name }}</span>
        <button type="button" class="ml-2 text-red-500 hover:text-red-700"
                hx-post="{% url 'remove_composer' %}"
                hx-vals='{"composer_id": "{{ composer.id }}", "selected_ids": [{% for c in composers %}"
                  {{ c.id }}"{% if not forloop.last %},{% endif %}{% endfor %}]}'
                hx-target="body"
                hx-swap="beforeend">
          <i class="fas fa-times"></i>
        </button>
      </div>
    {% endfor %}
  </div>


{% else %}
  <p class="text-gray-500 italic">No composers selected</p>
{% endif %}